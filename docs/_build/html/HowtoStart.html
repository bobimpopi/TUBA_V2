<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to start &mdash; TUBA 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="TUBA 1.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="Tutorials.html" />
    <link rel="prev" title="Installation" href="Installation.html" /> 
  </head>
  <body role="document">

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><h1 style="font-size: 3em;">TUBA Piping Tool</h1></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Tutorials.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to start</a><ul>
<li><a class="reference internal" href="#writing-the-command-script">Writing the command script</a><ul>
<li><a class="reference internal" href="#decomposing-step-by-step">Decomposing step by step:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-the-simulation-in-salome">Run the simulation in Salome:</a></li>
<li><a class="reference internal" href="#analyis-the-results-in-paravis">Analyis the results in ParaVis:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Tutorials.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/HowtoStart.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-start">
<span id="my-reference-label"></span><h1>How to start<a class="headerlink" href="#how-to-start" title="Permalink to this headline">¶</a></h1>
<p>Assuming you followed the installation steps in the last chapter (<a href="#id2"><span class="problematic" id="id3">`Installation`_</span></a>), you can now run TUBA in your terminal with
the Bash command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ TUBAV3.py  command_script.py
</pre></div>
</div>
<p>The command_script as argument is your list of commands defining your geometry, your simulation and output. Executing TUBA will trigger the following actions:</p>
<ol class="arabic simple">
<li>generating a 3D-Plot of your defined geometry. The purpose of this plot is to get an immediate visualization of your geometry.
If needed, then your command list can be adapted before you start the time consuming import into Salome-Meca.</li>
<li>generating <code class="docutils literal"><span class="pre">command_script_salome.py</span></code> which then has to be loaded into Salome (in the Menu bar: <code class="docutils literal"><span class="pre">File</span></code> - <code class="docutils literal"><span class="pre">Load</span> <span class="pre">Script...</span></code>)</li>
<li>generating <code class="docutils literal"><span class="pre">command_script_aster.comm</span></code> which then has to be loaded into the Code Aster Module. The file defines the simulation in Code Aster. Find more informations concerning the structure of comm-files under :ref:code_aster</li>
<li>generating <code class="docutils literal"><span class="pre">command_script_post.py</span></code> which then has to be loaded after a successful simulation. This file will start the post processing tool ParaVis and effect some standard plots. It is possible to adapt these plots or add new ones later on.</li>
</ol>
<div class="section" id="writing-the-command-script">
<h2>Writing the command script<a class="headerlink" href="#writing-the-command-script" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, the command-script consists of a list of commands defining your piping-geometry (or other rod-structure), it&#8217;s properties(cross section, material, external and internal loads, etc) and finally also the simulation and post-processing.
It can be edited with any kind of text editor. An IDE with auto completion and auto help like Spyder( include hyper link) can be very helpful in the beginning, especially if you&#8217;re not so familiar with the available commands.</p>
<p>The following code is a basic command script showing the most important commands - for a complete list of available commands, check - include hyper link.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#---UnitCalculator to use different input units---</span>
<span class="kn">from</span> <span class="nn">external.UnitCalculator</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">auto_converter</span><span class="p">(</span><span class="n">mmNS</span><span class="p">)</span>

<span class="n">outerRadius</span><span class="o">=</span><span class="mi">35</span>
<span class="n">WallThickness</span><span class="o">=</span><span class="mi">4</span>

<span class="n">Model</span><span class="p">(</span><span class="s2">&quot;TUYAU&quot;</span><span class="p">)</span>
<span class="n">SectionTube</span><span class="p">(</span><span class="n">outerRadius</span><span class="p">,</span><span class="n">WallThickness</span><span class="p">)</span>
<span class="n">Temperature</span><span class="p">(</span><span class="mi">550</span><span class="p">,</span><span class="n">T_ref</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">Pressure</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">bar</span><span class="p">())</span>

<span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">FixPoint</span><span class="p">()</span>

<span class="n">V</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">Block</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">Bent</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">Block</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">1000</span><span class="p">)</span>


<span class="n">Calculate</span><span class="p">(</span><span class="s2">&quot;Statique_Linear&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="decomposing-step-by-step">
<h3>Decomposing step by step:<a class="headerlink" href="#decomposing-step-by-step" title="Permalink to this headline">¶</a></h3>
<p>To better understand, how TUBA works, we will decompose the upper script step by step and explaining the functionality.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#---UnitCalculator to use different input units---</span>
<span class="kn">from</span> <span class="nn">external.UnitCalculator</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">auto_converter</span><span class="p">(</span><span class="n">mmNS</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/maldun/UnitCalculator">UnitCalculator</a> is an external python module written by Stefan Reiterer to translate different units.</p>
<p>SalomeMeca does not have a fixed default unit system. The user can choose whatever system is preferred - as long as it is consistent. In the <a class="reference external" href="http://caelinux.org/wiki/downloads/docs/PCarrico/CAELINUX_plasticite/CAELINUX_plasticite.html#SECTION000180000000000000000">Unit Table</a> you can see different consistent unit systems.</p>
<p>Unit Calculator facilitate the use of different, sometimes more intuitive units like bar. The TUBA script was only tested with the mmNS metric system as base (<code class="docutils literal"><span class="pre">auto_converter(mmNS)</span></code>), therefore it is advisable to stay in this system.
The base defines the internal unit system and therefore as well the units of the result. See the documentation of <a class="reference external" href="https://github.com/maldun/UnitCalculator">UnitCalculator</a> for more informations how to use the calculator and what conversions are available.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">outerRadius</span><span class="o">=</span><span class="mi">35</span>
<span class="n">WallThickness</span><span class="o">=</span><span class="mi">4</span>
</pre></div>
</div>
<p>The command script is pure python code. Therefore variable declaration,loops, if-statements etc. can be used as usual.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="p">(</span><span class="s2">&quot;TUYAU&quot;</span><span class="p">)</span>
<span class="n">SectionTube</span><span class="p">(</span><span class="n">outerRadius</span><span class="p">,</span><span class="n">WallThickness</span><span class="p">)</span>
<span class="n">Temperature</span><span class="p">(</span><span class="mi">550</span><span class="p">,</span><span class="n">T_ref</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">Pressure</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">bar</span><span class="p">())</span>
</pre></div>
</div>
<p>This section defines the global properties of the following piping system. Model defines the finite element used to model the piping - see  <a class="reference internal" href="Commands.html#tuba.define_properties.Model" title="tuba.define_properties.Model"><code class="xref py py-func docutils literal"><span class="pre">tuba.define_properties.Model()</span></code></a>. for a full list of available models.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">FixPoint</span><span class="p">()</span>

<span class="n">V</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">Block</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">Bent</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">Vc</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">Block</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Calculate</span><span class="p">(</span><span class="s2">&quot;Statique_Linear&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sidebar">
<p class="first sidebar-title">Sidebar Title
     :subtitle: Optional Sidebar Subtitle</p>
<p class="last">Subsequent indented lines comprise
the body of the sidebar, and are
interpreted as body elements.</p>
</div>
</div>
</div>
<div class="section" id="run-the-simulation-in-salome">
<h2>Run the simulation in Salome:<a class="headerlink" href="#run-the-simulation-in-salome" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="analyis-the-results-in-paravis">
<h2>Analyis the results in ParaVis:<a class="headerlink" href="#analyis-the-results-in-paravis" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Tutorials.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="Installation.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Wagenfeld.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>